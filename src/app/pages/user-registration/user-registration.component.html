<div class="registration-container">
  <div class="registration-card">
    <h2>Cadastro</h2>

    <!-- Mensagens de erro/sucesso -->
    <p class="error-message" *ngIf="errorMessage">{{ errorMessage }}</p>
    <p class="success-message" *ngIf="successMessage">{{ successMessage }}</p>

    <!-- Upload de avatar -->
    <div class="avatar-upload">
      <img *ngIf="selectedImage" [src]="selectedImage" alt="Foto do Perfil" class="profile-image" />
      <div *ngIf="!selectedImage" class="default-avatar">
        <i class="bi bi-person-circle"></i>
      </div>
      <input type="file" accept="image/*" (change)="onImageChange($event)" #fileInput hidden />
      <button (click)="fileInput.click()" class="btn btn-upload">
        <i class="bi bi-camera-fill"></i> Escolher Foto
      </button>
    </div>

    <!-- Formulário -->
    <form (ngSubmit)="onSubmit()" #registrationForm="ngForm">
      <!-- Nome -->
      <div class="form-group">
        <label for="name">Nome Completo</label>
        <input type="text" id="name" name="name" [(ngModel)]="formData.name" required placeholder="Digite seu nome completo">
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" [(ngModel)]="formData.email" required placeholder="Digite seu email">
      </div>

      <!-- Endereço -->
      <div class="form-group">
        <label for="address">Endereço</label>
        <input type="text" id="address" name="address" [(ngModel)]="formData.address" required placeholder="Digite seu endereço">
      </div>

      <div class="form-group">
        <label for="neighborhood">Bairro</label>
        <input type="text" id="neighborhood" name="neighborhood" [(ngModel)]="formData.neighborhood" required placeholder="Digite seu bairro">
      </div>

      <div class="form-group">
        <label for="city">Cidade</label>
        <input type="text" id="city" name="city" [(ngModel)]="formData.city" required placeholder="Digite sua cidade">
      </div>

      <div class="form-group">
        <label for="state">Estado</label>
        <input type="text" id="state" name="state" [(ngModel)]="formData.state" required placeholder="Digite seu estado">
      </div>

      <div class="form-group">
        <label for="zipCode">CEP</label>
        <input type="text" id="zipCode" name="zipCode" [(ngModel)]="formData.zipCode" required placeholder="Digite seu CEP">
      </div>

      <div class="form-group">
        <label for="country">País</label>
        <input type="text" id="country" name="country" [(ngModel)]="formData.country" required placeholder="Digite seu país">
      </div>

      <div class="form-group">
        <label for="complement">Complemento</label>
        <input type="text" id="complement" name="complement" [(ngModel)]="formData.complement" placeholder="Digite um complemento (opcional)">
      </div>

      <div class="form-group">
        <label for="number">Número</label>
        <input type="text" id="number" name="number" [(ngModel)]="formData.number" required placeholder="Número da residência">
      </div>

      <!-- Senha -->
      <div class="form-group">
        <label for="password">Senha</label>
        <input [type]="showPassword ? 'text' : 'password'" id="password" name="password" [(ngModel)]="formData.password" required placeholder="Digite sua senha" minlength="6">
      </div>

      <!-- Confirmar Senha -->
      <div class="form-group">
        <label for="confirmPassword">Confirmar Senha</label>
        <input [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword" name="confirmPassword" [(ngModel)]="formData.confirmPassword" required placeholder="Confirme sua senha">
      </div>

      <!-- Escolha de Tipo -->
      <div class="radio-group">
        <div>
          <input type="radio" id="isClient" name="userType" value="client" [(ngModel)]="formData.userType">
          <label for="isClient">Sou Cliente</label>
        </div>
        <div>
          <input type="radio" id="isBarber" name="userType" value="barber" [(ngModel)]="formData.userType">
          <label for="isBarber">Sou Prestador de Serviço</label>
        </div>
      </div>

      <button type="submit" class="btn btn-submit">Cadastrar</button>
    </form>
  </div>
</div>
